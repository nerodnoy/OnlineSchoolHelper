{% extends 'layout.html' %}

{% block title %}Feedback Generator{% endblock %}

{% block content %}
    <h1 class="text-3xl font-semibold text-gray-800 mb-6 text-center">Feedback Generator</h1>

    <form method="post" action="/feedback">

        <!-- Отображение текущего вопроса -->
        {% if current_question_index < questions|length %}
            {% set current_question = questions[current_question_index] %}
            <h3 class="text-xl font-semibold mb-2">{{ current_question['question'] }}</h3>
            {% for option in current_question['options'] %}
                <input type="radio" name="{{ current_question['question'] }}" value="{{ option }}" id="{{ option }}">
                <label for="{{ option }}">{{ option }}</label><br>
            {% endfor %}
            <button type="submit" class="mt-4 w-full bg-blue-500 text-white p-3 rounded-md hover:bg-blue-600">Submit</button>
        {% else %}

            <!-- Все вопросы заданы, отображаем итоговый Feedback -->
            {% if answers %}
                <div class="text-center mt-8">
                    <h2 class="text-2xl font-semibold text-blue-500 mb-2">Feedback</h2>
                    {% for question, answer in answers.items() %}
                        <p>{{ answer }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        {% endif %}
    </form>

    <!-- Кнопка Начать сначала -->
    <form method="post" action="/restart" class="mt-4">
        <button type="submit" class="bg-red-500 text-white p-3 rounded-md hover:bg-red-600">Начать сначала</button>
    </form>
{% endblock %}
