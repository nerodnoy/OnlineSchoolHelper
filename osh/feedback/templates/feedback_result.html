{% extends 'layout.html' %}

{% block title %}Итоговый результат{% endblock %}

{% block content %}
    <div class="result-container">
        <h1>Результат</h1>

        {% if result %}
            <div class="result-message">
                <p>Добрый день, {{ parent_name }}, меня зовут Илюшин Артём, я преподаватель онлайн-школы Алгоритмика.</p>
                <br>
                <p>Мне бы хотелось поделиться с вами результатами {{ student_name }} по итогам прохождения мини-курсов по изучению Python.</p>
            </div>

            <div id="finalResultText" class="result-text">
                {% for answer in result %}
                    <p>{{ answer|replace('имя_ученика', student_name) }}</p>
                {% endfor %}
            </div>

            <button id="copyButton" class="copy-button">
                Скопировать результат
            </button>

            <form method="post" action="{{ url_for('feedback.restart') }}">
                <button type="submit" class="restart-button">Начать сначала</button>
            </form>

            <div id="TextToParents" class="text-to-parents">
                <p>Добрый день! Это онлайн-школа "Алгоритмика". Делимся с вами обратной связью по итогам прохождения мини-курсов по изучению Python ☺️</p>
            </div>

            <button id="copyButton2" class="copy-button">
                Скопировать текст для отправки
            </button>

            <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
            <script src="{{ url_for('feedback.static', filename='js/copy_result.js') }}"></script>
            <script src="{{ url_for('feedback.static', filename='js/copy_parents.js') }}"></script>
        {% endif %}
    </div>
{% endblock %}
