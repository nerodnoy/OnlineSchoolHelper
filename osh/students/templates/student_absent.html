{% extends 'layout.html' %}

{% block title %}Absent List{% endblock %}

{% block content %}
    <h1>Список отсутствующих</h1>

    <h2>{{ group.name }}</h2>
    <br>
    <h2><a href="{{ group.link }}" target="_blank" id="groupLink">Ссылка на группу:  {{ group.link }}</a></h2>
    <br>

    <!-- Отображение списка отсутствующих в столбик -->
    <ul id="studentsList">
        {% if absent_students %}
            {% for student in absent_students %}
                {% if not student.present %}
                    Ждём на занятии:
                    <li><a href="{{ url_for('students.view_student', group_id=group.id, student_id=student.id) }}">{{ student.name }}</a></li>
                    <!-- Другие детали студента, если необходимо -->
                {% endif %}
            {% endfor %}
        {% else %}
            <li>Все ученики присутствуют на занятии</li>
        {% endif %}
    </ul>

    <!-- Кнопка для копирования текста -->
    <button id="copyButton">Копировать текст</button>

    <!-- Кнопка для возврата к группе -->
    <a href="{{ url_for('groups.view_group', group_id=group.id) }}">Назад к группе</a>

    <!-- В зависимости от дня недели пишем разным кураторам -->
    {% if 'Понедельник' in group.name %}
        <p><a href="https://t.me/+79272559173" target="_blank">Отправить Валерии</a></p>
    {% elif 'Четверг' in group.name or 'Пятница' in group.name %}
        <p><a href="https://t.me/ira_frolova" target="_blank">Отправить Ирине</a></p>
    {% endif %}

    <!-- Скрипт для копирования текста с id=studentsList -->
    <!-- Скрипт для копирования текста с id=studentsList -->
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.10/dist/clipboard.min.js"></script>
    <script src="{{ url_for('students.static', filename='js/copy_students.js') }}"></script>
{% endblock %}
