{% extends 'layout.html' %}

{% block title %}Список групп{% endblock %}

{% block content %}
    {% for week, groups in week_groups.items() %}
        {% if groups %}
            <h1>{{ week.replace('_', ' ') }}</h1>

            <!-- Выводим список групп для текущей недели -->
            <table class="table table-hover">
                <!-- Заголовки таблицы -->
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Имя группы</th>
                    </tr>
                </thead>
                <tbody>
                    {% for group in groups %}
                        <tr>
                            <!-- <td>{{ group.id }}</td> - если хотим по id отсортировать -->
                            <td>{{ loop.index }}</td>
                            <td>
                                <a href="{{ url_for('groups.view_group', group_id=group.id) }}">{{ group.name }}</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% endif %}
    {% endfor %}

    <!-- Кнопка для перехода к созданию новой группы -->
    <form action="{{ url_for('groups.create_group') }}" method="get">
        <button type="submit" class="btn btn-primary">
            Создать новую группу
        </button>
    </form>

    <br>

    <!-- Кнопка для очистки базы данных -->
    <form action="{{ url_for('groups.clear_all_data') }}" method="post">
        <button type="submit" class="btn btn-danger">
            Удалить все группы
        </button>
    </form>

    <script src="{{ url_for('groups.static', filename='js/clear_data.js') }}"></script>
{% endblock %}
